{"version":3,"sources":["../../../src/network/apollo-client-singleton.js"],"names":["ApolloClient","createNetworkInterface","log","networkInterface","uri","useAfter","applyAfterware","next","response","errors","error","JSON","stringify","alert","message","ApolloClientSingleton","shouldBatch","dataIdFromObject","obj","id"],"mappings":"AAAA,OAAOA,YAAP,IAAuBC,sBAAvB,QAAqD,eAArD;AACA,OAAOC,GAAP;AACA,IAAMC,mBAAmBF,uBAAuB;AAC9CG,OAAK;AACL;AAF8C,CAAvB,CAAzB;;AAKA;AACAD,iBAAiBE,QAAjB,CAA0B,CAAC;AACzBC,gBADyB,gCACIC,IADJ,EACU;AAAA,QAAlBC,QAAkB,QAAlBA,QAAkB;;AACjC,QAAIA,SAASC,MAAb,EAAqB;AACnB;AACEP,UAAIQ,KAAJ,CAAUC,KAAKC,SAAL,CAAeJ,SAASC,MAAxB,CAAV;AACAI,6DAAqDL,SAASC,MAAT,CAAgB,CAAhB,EAAmBK,OAAxE;AACF;AACD;AACDP;AACD;AATwB,CAAD,CAA1B;;AAYA,IAAMQ,wBAAwB,IAAIf,YAAJ,CAAiB;AAC7CG,oCAD6C;AAE7Ca,eAAa,IAFgC;AAG7CC,oBAAkB;AAAA,WAAOC,IAAIC,EAAX;AAAA;AAH2B,CAAjB,CAA9B;;AAMA,eAAeJ,qBAAf","file":"apollo-client-singleton.js","sourcesContent":["import ApolloClient, { createNetworkInterface } from 'apollo-client'\nimport log from '../log'\nconst networkInterface = createNetworkInterface({\n  uri: 'http://kapmug-server.mybluemix.net/graphql'\n  //  uri: 'http://localhost:3030/graphql'\n})\n\n// Sample error handling middleware\nnetworkInterface.useAfter([{\n  applyAfterware({ response }, next) {\n    if (response.errors) {\n      // if (typeof window !== 'Ã·undefined') {\n        log.error(JSON.stringify(response.errors))\n        alert(`There was an error in your GraphQL request: ${response.errors[0].message}`)\n      // }\n    }\n    next()\n  }\n}])\n\nconst ApolloClientSingleton = new ApolloClient({\n  networkInterface,\n  shouldBatch: true,\n  dataIdFromObject: obj => obj.id\n})\n\nexport default ApolloClientSingleton\n"]}